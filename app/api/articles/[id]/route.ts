import { NextRequest, NextResponse } from 'next/server';

export const dynamic = 'force-dynamic';

// Articles data - SEULEMENT les vrais articles du site web
const articles = [
  {
    id: 5,
    slug: "installer-pologne-parcours-francais-celibataire",
    title: "S'installer en Pologne : mon parcours de Fran√ßais c√©libataire",
    excerpt: "Les d√©marches que j'ai r√©ellement effectu√©es pour m'installer en Pologne ‚Äî expliqu√©es simplement, avec un sch√©ma pour visualiser l'encha√Ænement. Dans mon cas, je ne parle pas polonais, ce qui peut compliquer certaines d√©marches mais reste tout √† fait faisable.",
    author: "Johann Debeaumont",
    date: "2024-01-20",
    readTime: "8 min",
    imageUrl: "/Administration.png",
    draft: false,
    category: "Administration",
    tags: ["installation", "d√©marches", "expatriation", "pologne"],
    language: "fr",
    content: `S'installer en Pologne : mon parcours de Fran√ßais c√©libataire

Les d√©marches que j'ai r√©ellement effectu√©es pour m'installer en Pologne ‚Äî expliqu√©es simplement, avec un sch√©ma pour visualiser l'encha√Ænement. Dans mon cas, je ne parle pas polonais, ce qui peut compliquer certaines d√©marches mais reste tout √† fait faisable.

## üó∫Ô∏è Vue d'ensemble : le sch√©ma des √©tapes

Avant de d√©tailler chaque d√©marche, voici le sch√©ma global qui m'a aid√© √† comprendre l'encha√Ænement. Chaque √©tape d√©pend des pr√©c√©dentes :

### üìã Points importants du sch√©ma
‚Ä¢ Le **PESEL est la base de tout** - sans lui, rien n'est possible
‚Ä¢ Le **compte bancaire est requis pour le NFZ**
‚Ä¢ Le **Meldunek vient apr√®s le ZUS** (r√©sidence officielle)
‚Ä¢ L'**immatriculation de voiture** est la derni√®re √©tape

## 1Ô∏è‚É£ PESEL : votre num√©ro d'identit√© polonais

Le PESEL (Powszechny Elektroniczny System Ewidencji Ludno≈õci) est **absolument indispensable**. C'est votre cl√© d'entr√©e dans le syst√®me administratif polonais.

### O√π l'obtenir :
- **Bureau des √©trangers** (UrzƒÖd do Spraw Cudzoziemc√≥w) de votre ville
- **Mairie** (UrzƒÖd Gminy) selon les communes
- **Prendre rendez-vous** √† l'avance - souvent complet

### Documents requis :
- Passeport ou carte d'identit√© fran√ßaise
- Justificatif de logement temporaire (h√¥tel, Airbnb)
- Formulaire de demande (disponible sur place)

### ‚è∞ D√©lai d'obtention
**Imm√©diat √† 2 semaines** selon la commune. Certaines villes donnent le num√©ro le jour m√™me, d'autres envoient la carte par courrier.

### üö® Important
**Gardez pr√©cieusement votre num√©ro PESEL.** Vous en aurez besoin pour absolument tout : banque, sant√©, logement, imp√¥ts, achats importants...

## 2Ô∏è‚É£ Compte bancaire polonais

Deuxi√®me √©tape cruciale : ouvrir un compte bancaire polonais. C'est n√©cessaire pour recevoir votre salaire et acc√©der au syst√®me de sant√© NFZ.

### Banques recommand√©es pour expatri√©s :
- **ING Bank ≈ölƒÖski :** Interface en anglais, service client anglophone
- **mBank :** Application mobile excellente, proc√©dures digitalis√©es
- **PKO Bank Polski :** Plus traditionnelle mais tr√®s r√©pandue
- **Santander :** Bon service pour les √©trangers

### Documents requis :
- PESEL (indispensable)
- Passeport ou carte d'identit√©
- Justificatif de revenus ou promesse d'embauche
- Justificatif de logement

### üí∞ Frais bancaires
La plupart des banques offrent des **comptes gratuits** avec conditions (revenus minimum, √¢ge...). Comptez 0-20 PLN/mois selon la banque et le type de compte.

## 3Ô∏è‚É£ NFZ : votre couverture sant√©

Le NFZ (Narodowy Fundusz Zdrowia) est l'√©quivalent de la S√©curit√© sociale fran√ßaise. Une fois inscrit, vous acc√©dez aux soins publics gratuits.

### Comment s'inscrire :
- **En ligne :** Via le site NFZ avec votre compte bancaire polonais
- **Sur place :** Bureau NFZ local avec les documents requis
- **Via l'employeur :** Si vous √™tes salari√© (plus simple)

### Documents requis :
- PESEL
- Justificatif de compte bancaire polonais
- Contrat de travail ou justificatif de revenus
- Formulaire de demande

### üè• Utilisation pratique
Contrairement √† la France, **pas de carte vitale**. Votre num√©ro PESEL suffit chez le m√©decin et en pharmacie.

## 4Ô∏è‚É£ ZUS : cotisations sociales

Le ZUS (Zak≈Çad Ubezpiecze≈Ñ Spo≈Çecznych) g√®re les retraites et prestations sociales. Si vous √™tes salari√©, votre employeur s'en charge. En freelance, vous devez vous inscrire.

### Inscription ZUS :
- **En ligne :** Plateforme ZUS PUE (Platforma Us≈Çug Elektronicznych)
- **Sur place :** Bureau ZUS local
- **Automatique :** Si cr√©ation d'entreprise via CEIDG

### üíº Cotisations volontaires
En tant qu'√©tranger avec NFZ, vous pouvez choisir de cotiser ou non au ZUS pour la retraite. **Cotisation minimum :** environ 300-400 PLN/mois.

## 5Ô∏è‚É£ Meldunek : d√©claration de r√©sidence

Le Meldunek est votre d√©claration officielle de r√©sidence. Obligatoire si vous restez plus de 3 mois, c'est l'√©quivalent d'un changement d'adresse officiel.

### O√π faire la d√©marche :
- **Mairie** (UrzƒÖd Gminy/UrzƒÖd Miasta) de votre lieu de r√©sidence
- **En ligne** dans certaines villes (Varsovie, Cracovie...)

### Documents requis :
- PESEL
- Passeport ou carte d'identit√©
- Contrat de location ou attestation du propri√©taire
- Formulaire de d√©claration

### ‚ö†Ô∏è Obligation l√©gale
**D√©lai maximum : 30 jours** apr√®s votre installation. Le non-respect peut entra√Æner une amende de 50-5000 PLN.

## 6Ô∏è‚É£ Options avanc√©es

Une fois les bases √©tablies, vous pouvez aller plus loin selon vos besoins :

### Cr√©ation d'entreprise :
Si vous souhaitez devenir freelance ou cr√©er votre activit√©, la cr√©ation de micro-entreprise en Pologne est √©tonnamment simple et rapide !

### Immatriculation de voiture :
Beaucoup plus complexe et co√ªteux. Pr√©parez-vous psychologiquement...

### Carte de s√©jour temporaire :
- **Pas obligatoire** pour les citoyens EU
- **Recommand√©e** pour des s√©jours longs (facilite certaines d√©marches)
- **Validit√© :** 5 ans renouvelable

## üí∞ Budget total √† pr√©voir

Voici un r√©capitulatif des co√ªts pour s'installer :

- **PESEL :** Gratuit
- **Compte bancaire :** 0-20 PLN/mois
- **NFZ :** Gratuit (si √©ligible) ou ~300 PLN/mois
- **ZUS :** Optionnel, ~400 PLN/mois
- **Meldunek :** Gratuit
- **Traductions de documents :** 50-200 PLN
- **D√©placements/temps :** Variable

### üí∏ Total estim√©
**0-500 PLN** pour les d√©marches de base
*Plus les frais courants (NFZ, ZUS) selon votre situation*

## ‚è±Ô∏è Timeline r√©aliste

Voici les d√©lais que j'ai r√©ellement exp√©riment√©s :

- **PESEL :** 1 jour √† 2 semaines
- **Compte bancaire :** 2-5 jours
- **NFZ :** 1-2 semaines
- **ZUS :** 1 semaine
- **Meldunek :** 1 jour

### üìÖ Dur√©e totale
**1 √† 2 mois** pour tout finaliser, selon la r√©activit√© des administrations et votre disponibilit√©.

## üò§ Principales difficult√©s rencontr√©es

Voici les obstacles les plus fr√©quents et comment les surmonter :

### Barri√®re de la langue :
- **Solution :** Google Translate en mode photo pour les formulaires
- **Pr√©paration :** Apprenez quelques mots cl√©s en polonais
- **Aide :** Amenez un ami polonophone si possible

### Documents manquants :
- **Pr√©vention :** V√©rifiez la liste avant de partir de France
- **Traductions :** Certains documents doivent √™tre traduits officiellement
- **Photocopies :** Toujours avoir des copies certifi√©es

### D√©lais variables :
- **Planification :** Commencez t√¥t, ne sous-estimez pas les d√©lais
- **Alternatives :** Plusieurs bureaux peuvent parfois traiter le m√™me dossier
- **Patience :** L'administration polonaise peut √™tre lente mais efficace

## üí° Mes conseils pour r√©ussir

Apr√®s avoir travers√© toutes ces √©tapes, voici mes recommandations :

### Avant de partir de France :
- **Rassemblez tous vos documents** - apostilles, traductions
- **Ouvrez un compte √©pargne de transition** - pour les premiers mois
- **Apprenez les bases du polonais** - au moins les formules de politesse
- **Contactez des expatri√©s** - groupes Facebook tr√®s actifs

### Une fois en Pologne :
- **Priorisez le PESEL** - rien n'est possible sans lui
- **Gardez tous vos re√ßus** - utiles pour la suite
- **Restez flexible** - les proc√©dures peuvent changer
- **Int√©grez-vous localement** - √ßa facilite tout le reste

### Ressources utiles :
- **Gov.pl :** Site officiel du gouvernement
- **Consulat fran√ßais :** Aide en cas de probl√®me
- **Groupes Facebook d'expatri√©s :** Entraide communautaire
- **Google Translate :** Votre meilleur ami pour les formulaires

## üéØ Mon bilan personnel

S'installer en Pologne m'a pris environ 6 semaines au total. Certaines d√©marches sont rapides (PESEL, Meldunek), d'autres plus longues (NFZ, compte bancaire selon la banque).

### Ce qui m'a le plus aid√© :
- **La pr√©paration en amont** - documents traduits avant de partir
- **La communaut√© d'expatri√©s** - conseils pr√©cieux sur les groupes
- **L'aide d'amis polonais** - pour les d√©marches complexes
- **Google Translate** - indispensable pour comprendre les formulaires

### Ce que j'aurais fait diff√©remment :
- **Commencer plus t√¥t** - certaines d√©marches prennent du temps
- **Pr√©voir plus de budget** - frais impr√©vus toujours possibles
- **Apprendre plus de polonais** - √ßa facilite vraiment les relations

### üåü Conseil final
**L'installation en Pologne est faisable et gratifiante !** Oui, il y a de la paperasse, mais le jeu en vaut la chandelle. La Pologne est un pays accueillant avec une administration qui s'am√©liore constamment.

Une fois install√©, vous pourrez envisager d'autres projets comme cr√©er votre micro-entreprise ou m√™me immatriculer votre voiture fran√ßaise (bon courage pour cette derni√®re !).

### üìù Mise √† jour
Guide bas√© sur mon exp√©rience de janvier 2024. Les proc√©dures peuvent √©voluer. V√©rifiez toujours les informations officielles sur gov.pl avant de commencer vos d√©marches.`
  },
  {
    id: 8,
    slug: "creer-micro-entreprise-pologne-simple-rapide",
    title: "Cr√©er sa micro-entreprise en Pologne : simple et rapide !",
    excerpt: "Guide complet pour cr√©er une micro-entreprise en Pologne : CEIDG, NIP, REGON, ZUS. M√©thode ChatGPT et d√©marches simplifi√©es pour entrepreneurs fran√ßais.",
    author: "Johann Debeaumont",
    date: "2024-02-05",
    readTime: "8 min",
    imageUrl: "/CEIDG.png",
    draft: false,
    category: "Entrepreneuriat",
    tags: ["micro-entreprise", "CEIDG", "NIP", "REGON", "ZUS", "entrepreneur", "freelance"],
    language: "fr",
    content: `Cr√©er sa micro-entreprise en Pologne : simple et rapide !

Bonne nouvelle apr√®s toutes les gal√®res administratives : cr√©er une micro-entreprise en Pologne, c'est √©tonnamment simple ! Voici comment j'ai fait avec l'aide de ChatGPT.

## ‚úÖ Pourquoi c'est plus simple qu'ailleurs

Contrairement √† l'immatriculation de voiture qui est un cauchemar, la cr√©ation d'entreprise en Pologne est **digitalis√©e, rapide et peu co√ªteuse**. Tout se fait en ligne !

## üéØ Pr√©requis avant de commencer

Avant de cr√©er votre micro-entreprise, assurez-vous d'avoir compl√©t√© ces √©tapes de base :

- **PESEL obtenu** - Num√©ro d'identification polonais
- **Compte bancaire polonais ouvert**
- **Adresse de r√©sidence d√©clar√©e (Meldunek)**
- **NFZ activ√©** - Couverture sant√© de base

### üìö Guides pr√©alables

Si vous n'avez pas encore fait ces d√©marches, consultez mon guide "S'installer en Pologne" et l'article sur le syst√®me de sant√© NFZ.

## üí° Ma m√©thode avec ChatGPT

Ne parlant pas polonais, j'ai utilis√© ChatGPT comme assistant personnel pour naviguer dans les formulaires administratifs. Voici ma technique :

### √âtape 1 : Pr√©paration avec ChatGPT

J'ai demand√© √† ChatGPT de me traduire et expliquer chaque champ des formulaires administratifs polonais.

**üí¨ Prompt que j'ai utilis√© :**
"Je veux cr√©er une micro-entreprise en Pologne via CEIDG. Peux-tu me traduire et expliquer chaque champ du formulaire ? Mon activit√© sera [votre activit√©]. Je suis r√©sident fran√ßais en Pologne avec un PESEL."

### √âtape 2 : Choix du code PKD

Le code PKD d√©finit votre activit√©. C'est crucial pour les taxes et obligations.

**üîç Trouver son code PKD :**
Utilisez le site officiel GUS.gov.pl ou demandez √† ChatGPT de vous aider √† identifier le bon code selon votre activit√©. **Prenez votre temps** - ce choix impacte vos obligations fiscales.

**Exemples de codes courants :**
- **62.01.Z :** Programmation informatique
- **62.02.Z :** Conseil en informatique
- **73.11.Z :** Agences de publicit√©
- **74.10.Z :** Design graphique
- **85.59.B :** Formation et enseignement

## üñ•Ô∏è Cr√©er son entreprise sur CEIDG

CEIDG (Centralna Ewidencja i Informacja o Dzia≈Çalno≈õci Gospodarczej) est la plateforme officielle. Tout se fait en ligne, 24h/24.

### √âtape 1 : Connexion au CEIDG

Rendez-vous sur **prod.ceidg.gov.pl** et connectez-vous avec votre profil personnel (Profil Zaufany) ou via banque en ligne.

**üîê Authentification :**
Si vous n'avez pas de Profil Zaufany, utilisez l'authentification par votre banque polonaise. C'est plus simple et imm√©diat.

### √âtape 2 : Remplir le formulaire

Le formulaire est long mais logique. Voici les sections principales :

**Informations de base :**
- Donn√©es personnelles (automatiquement remplies via PESEL)
- Adresse du si√®ge social (votre adresse de r√©sidence)
- Code PKD d'activit√© principale
- Date de d√©but d'activit√©

**Choix du r√©gime fiscal :**
- **Karta podatkowa :** Forfait fixe (rare)
- **Rycza≈Çt :** Pourcentage du chiffre d'affaires (recommand√©)
- **Skala podatkowa :** Imp√¥t progressif

**üí∞ Conseil fiscal :**
Pour d√©buter, choisissez le **rycza≈Çt** (forfait). C'est simple, pr√©visible et avantageux pour les petits chiffres d'affaires. Taux variable selon l'activit√© (8,5% √† 17%).

### √âtape 3 : Choix ZUS

ZUS g√®re les cotisations sociales. Vous avez plusieurs options :

**Options disponibles :**
- **Ulga na start :** 6 mois sans cotisations ZUS (pour nouveaux entrepreneurs)
- **Ma≈Çy ZUS :** Cotisations r√©duites selon le revenu
- **ZUS standard :** Cotisations pleines (~1500 PLN/mois)

**üéÅ Ulga na start :**
Si c'est votre premi√®re entreprise en Pologne, profitez de l'**"Ulga na start"** - 6 mois sans cotisations ZUS ! √âconomie d'environ 9000 PLN.

## üìã Documents g√©n√©r√©s automatiquement

Une fois le formulaire valid√©, le syst√®me g√©n√®re automatiquement :

- **NIP :** Num√©ro d'identification fiscale
- **REGON :** Num√©ro statistique d'entreprise
- **Certificat d'immatriculation**
- **Notifications automatiques** vers ZUS et l'administration fiscale

**‚ö° Rapidit√© :**
**Tout est instantan√© !** D√®s validation, vous recevez vos num√©ros et pouvez commencer √† facturer. Aucune attente, contrairement √† la France.

## üí∞ Co√ªts et d√©lais

La cr√©ation d'entreprise en Pologne est remarquablement accessible :

### Co√ªts :
- **Inscription CEIDG :** GRATUIT
- **Obtention NIP/REGON :** GRATUIT
- **ZUS (6 premiers mois avec ulga na start) :** GRATUIT
- **Seuls frais :** √âventuellement aide comptable (~300-500 PLN/mois)

### D√©lais :
- **Cr√©ation compl√®te :** 1 journ√©e
- **R√©ception des documents :** Imm√©diat (PDF t√©l√©chargeables)
- **D√©but d'activit√© :** D√®s validation du formulaire

**üí∏ Budget total :**
**0 PLN pour commencer !** C'est l'√©norme avantage du syst√®me polonais. Vous pouvez tester votre activit√© sans risque financier initial.

## üìä Obligations post-cr√©ation

Une fois votre entreprise cr√©√©e, voici vos obligations principales :

### Obligations fiscales :
- **D√©claration mensuelle :** Avant le 20 du mois suivant
- **Tenue de registre :** Recettes et d√©penses (simple tableur suffisant)
- **Facturation :** Obligatoire pour montants > 20 000 PLN/an

### Obligations ZUS :
- **D√©claration annuelle :** Revenus de l'ann√©e √©coul√©e
- **Cotisations mensuelles :** Apr√®s la p√©riode "ulga na start"
- **Changements d'activit√© :** √Ä d√©clarer dans les 7 jours

**üì± Outils recommand√©s :**
**iFirma, Fakturownia ou WFirma :** Plateformes polonaises pour g√©rer facilement facturation et d√©clarations. Interface en anglais disponible.

## üéØ Avantages du syst√®me polonais

Apr√®s avoir cr√©√© ma micro-entreprise, voici ce qui m'a le plus impressionn√© :

### Simplicit√© administrative :
- **Tout en ligne :** Aucun d√©placement physique n√©cessaire
- **Int√©gration totale :** Une seule d√©marche pour tous les organismes
- **Validation imm√©diate :** Pas d'attente comme en France
- **Documentation claire :** Formulaires bien con√ßus

### Avantages fiscaux :
- **Ulga na start :** 6 mois gratuits pour d√©buter
- **Rycza≈Çt avantageux :** Taux fixes pr√©visibles
- **Seuils √©lev√©s :** Pas de TVA sous 200 000 PLN/an
- **Flexibilit√© :** Changement de r√©gime possible

### Support num√©rique :
- **Plateforme CEIDG moderne :** Interface intuitive
- **Outils tiers d√©velopp√©s :** √âcosyst√®me riche
- **D√©mat√©rialisation compl√®te :** Z√©ro papier

## ‚ö†Ô∏è Points d'attention

Quelques aspects √† surveiller pour √©viter les erreurs :

### Choix du code PKD :
- **Impact fiscal :** Diff√©rents codes = diff√©rents taux de rycza≈Çt
- **Activit√©s multiples :** Possible mais complexifie la fiscalit√©
- **Changement ult√©rieur :** Possible mais proc√©dure administrative

### Gestion ZUS :
- **Fin d'ulga na start :** Anticiper les cotisations qui arrivent
- **Revenus minimum :** Attention aux seuils pour ma≈Çy ZUS
- **Arr√™t d'activit√© :** Bien d√©clarer pour √©viter les cotisations

### Aspects internationaux :
- **Double imposition :** V√©rifier les accords France-Pologne
- **TVA europ√©enne :** R√®gles sp√©cifiques selon vos clients
- **Facturation en devise :** Implications comptables

**üè¶ Important pour les finances :**
**Ouvrez un compte bancaire professionnel d√©di√©.** Bien que non obligatoire l√©galement, c'est fortement recommand√© pour la clart√© comptable et les relations bancaires.

## üíº Mon exp√©rience concr√®te

J'ai cr√©√© ma micro-entreprise un dimanche soir, en 2 heures, depuis mon canap√©. Compar√© aux d√©marches fran√ßaises que j'avais connues, c'√©tait un autre monde !

### Ce qui m'a le plus marqu√© :
- **La rapidit√© :** Tout valid√© en une soir√©e
- **La gratuit√© totale :** Aucun frais de cr√©ation
- **L'int√©gration :** Tous les organismes notifi√©s automatiquement
- **La flexibilit√© :** Possibilit√© de modifier facilement

### Mes premiers pas :
- **Premi√®re facture :** √âmise d√®s le lendemain
- **Compte bancaire pro :** Ouvert la semaine suivante
- **Plateforme de facturation :** iFirma configur√©e rapidement
- **Premi√®re d√©claration :** Simple gr√¢ce aux outils en ligne

## üöÄ Conseils pour bien commencer

Voici mes recommandations pour optimiser votre lancement :

### Avant la cr√©ation :
- **D√©finissez pr√©cis√©ment votre activit√©** - Impact sur le code PKD
- **Estimez votre chiffre d'affaires** - Influence le choix du r√©gime fiscal
- **Pr√©parez vos documents** - PESEL, adresse, coordonn√©es bancaires
- **Choisissez votre date de d√©but** - Peut √™tre diff√©r√©e

### Juste apr√®s la cr√©ation :
- **T√©l√©chargez tous les certificats** - Gardez-les pr√©cieusement
- **Configurez votre outil de facturation** - iFirma, Fakturownia, etc.
- **Ouvrez un compte bancaire professionnel** - S√©parez personnel et pro
- **Notez vos √©ch√©ances** - D√©clarations mensuelles et annuelles

### D√©veloppement de l'activit√© :
- **Surveillez vos seuils** - TVA, changement de r√©gime ZUS
- **Anticipez la fin d'ulga na start** - Cotisations ZUS qui arrivent
- **Envisagez un comptable** - Quand l'activit√© se d√©veloppe
- **Optimisez fiscalement** - R√©vision annuelle du r√©gime

## üéä Conclusion : enfin du simple !

Apr√®s l'enfer de l'immatriculation automobile et autres complexit√©s administratives, cr√©er une micro-entreprise en Pologne fut un vrai plaisir !

**‚ú® Le syst√®me polonais en r√©sum√© :**
**Gratuit, rapide, simple et flexible.** Tout ce qu'on aimerait avoir en France ! Si vous h√©sitez √† vous lancer, n'h√©sitez plus - le risque financier est quasi nul.

L'entrepreneuriat en Pologne est vraiment accessible. Que vous soyez freelance, consultant, ou que vous lanciez une petite activit√©, le syst√®me vous facilite la vie au maximum.

Si vous avez d'autres questions sur l'installation en Pologne, consultez aussi mes guides sur les d√©marches administratives de base et le syst√®me de sant√© NFZ.

**üìù Mise √† jour :**
Guide bas√© sur mon exp√©rience de f√©vrier 2024. Les proc√©dures et avantages fiscaux peuvent √©voluer. V√©rifiez toujours les informations officielles sur CEIDG.gov.pl avant de commencer.`
  }
];

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  try {
    const { searchParams } = new URL(request.url);
    const includeContent = searchParams.get('includeContent') === 'true';
    
    const articleId = parseInt(params.id);
    const article = articles.find(a => a.id === articleId);
    
    if (!article) {
      return NextResponse.json(
        { success: false, error: 'Article not found' },
        { status: 404 }
      );
    }

    // Prepare response article
    const responseArticle: any = {
      id: article.id,
      slug: article.slug,
      title: article.title,
      excerpt: article.excerpt,
      author: article.author,
      date: article.date,
      readTime: article.readTime,
      imageUrl: article.imageUrl,
      draft: article.draft,
      category: article.category,
      tags: article.tags,
      language: article.language
    };

    // Add content if requested
    if (includeContent && article.content) {
      responseArticle.content = article.content;
    }

    return NextResponse.json({
      success: true,
      data: {
        article: responseArticle
      }
    });

  } catch (error) {
    console.error('Error fetching article:', error);
    return NextResponse.json(
      { success: false, error: 'Internal server error' },
      { status: 500 }
    );
  }
}